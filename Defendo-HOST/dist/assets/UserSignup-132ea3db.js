import{u as S,a as C,r as o,j as e,L as b,s as _}from"./index-221e5e32.js";import{B as P}from"./BrandLogo-c222ccf7.js";import{h}from"./motion-cb67fe8f.js";const f=["Residential Society","Corporate Office","Event / Production","Personal Security"],g=["< 100 residents","100 - 500","500 - 1000","1000+"],E=()=>{const{signUp:y}=S(),m=C(),[s,j]=o.useState({fullName:"",phone:"",email:"",password:"",confirmPassword:"",useCase:f[0],communitySize:g[1],address:""}),[u,N]=o.useState(!1),[x,n]=o.useState(!1),[i,r]=o.useState(null),[w,p]=o.useState(!1),t=a=>{const{name:d,value:l}=a.target;j(c=>({...c,[d]:l})),i&&r(null)},v=async a=>{if(a.preventDefault(),!u){r("Please agree to the terms and privacy policy.");return}if(s.password!==s.confirmPassword){r("Passwords do not match.");return}n(!0),r(null),p(!1);const d={role:"user",full_name:s.fullName,phone:s.phone,use_case:s.useCase,community_size:s.communitySize},l=await y(s.email,s.password,d);if(!l.success){r(l.error||"Unable to sign up. Please try again."),n(!1);return}const c={id:l.user.id,email:s.email,full_name:s.fullName,phone:s.phone,role:"user",terms_accepted:!0,privacy_policy_accepted:!0,terms_accepted_at:new Date().toISOString(),privacy_policy_accepted_at:new Date().toISOString(),updated_at:new Date().toISOString()};await _.from("profiles").upsert(c,{onConflict:"id"}),p(!0),n(!1),l.user?setTimeout(()=>m("/user-portal"),1500):setTimeout(()=>m("/user-login"),1800)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-white via-[#eef4ff] to-white",children:[e.jsxs("header",{className:"px-6 md:px-12 py-4 flex items-center justify-between border-b border-slate-200 bg-white/90 backdrop-blur",children:[e.jsxs(b,{to:"/",className:"flex items-center gap-3",children:[e.jsx(P,{text:"Defendo",imgClassName:"h-10 w-auto",textClassName:"text-xl font-semibold text-slate-900"}),e.jsx("span",{className:"text-xs uppercase tracking-[0.3em] text-slate-500 hidden sm:inline",children:"Citizen Portal"})]}),e.jsx("div",{className:"flex gap-3 text-sm",children:e.jsx(b,{to:"/user-login",className:"inline-flex items-center gap-2 px-4 py-2 rounded-full border border-slate-200 text-slate-700 hover:border-slate-300",children:"Already have an account?"})})]}),e.jsxs("main",{className:"px-6 md:px-12 py-10 grid lg:grid-cols-[1fr_0.9fr] gap-10",children:[e.jsxs("section",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-blue-500 mb-4",children:"Defendo users"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-slate-900",children:"Book guards, patrols, and emergency response from one account."}),e.jsx("p",{className:"text-slate-600 mt-4 max-w-2xl",children:"Defendo connects your society, office, or production with vetted security professionals, automated attendance, SOS alerts, and digital visitor control."})]}),e.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-[0_20px_45px_rgba(15,23,42,0.08)] space-y-4",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"You get"}),e.jsxs("ul",{className:"space-y-3 text-slate-600 text-sm",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-blue-500 text-base",children:"shield"}),"Verified guards with live check-ins & guard timer"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-blue-500 text-base",children:"emergency"}),"Emergency SOS for residents and facility managers"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-blue-500 text-base",children:"boards"}),"Bookings + payouts dashboard for finance approvals"]})]})]})]}),e.jsxs(h.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white border border-slate-200 rounded-3xl p-8 shadow-[0_25px_60px_rgba(15,23,42,0.12)]",children:[e.jsxs("div",{className:"mb-8 text-center space-y-2",children:[e.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-1 rounded-full bg-blue-50 text-blue-600 text-xs font-semibold tracking-[0.3em] uppercase",children:"Create account"}),e.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:"Secure services in less than 2 minutes"}),e.jsx("p",{className:"text-sm text-slate-500",children:"We’ll set up your profile inside the `profiles` table and guide your first booking."})]}),i&&e.jsx("div",{className:"mb-6 rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-600",children:i}),w&&e.jsx("div",{className:"mb-6 rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-600",children:"Account created! Redirecting you to your portal..."}),e.jsxs("form",{className:"space-y-5",onSubmit:v,children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Full name"}),e.jsx("input",{name:"fullName",value:s.fullName,onChange:t,placeholder:"Nikita Sharma",className:"w-full mt-1 rounded-2xl border border-slate-200 px-4 py-3 focus:border-blue-500 focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Phone"}),e.jsx("input",{name:"phone",value:s.phone,onChange:t,placeholder:"+91 90000 12345",className:"w-full mt-1 rounded-2xl border border-slate-200 px-4 py-3 focus:border-blue-500 focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Email address"}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:t,placeholder:"you@company.com",className:"w-full mt-1 rounded-2xl border border-slate-200 px-4 py-3 focus:border-blue-500 focus:outline-none",required:!0})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Password"}),e.jsx("input",{type:"password",name:"password",value:s.password,onChange:t,placeholder:"Create a password",className:"w-full mt-1 rounded-2xl border border-slate-200 px-4 py-3 focus:border-blue-500 focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Confirm password"}),e.jsx("input",{type:"password",name:"confirmPassword",value:s.confirmPassword,onChange:t,placeholder:"Re-enter password",className:"w-full mt-1 rounded-2xl border border-slate-200 px-4 py-3 focus:border-blue-500 focus:outline-none",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Primary use case"}),e.jsx("select",{name:"useCase",value:s.useCase,onChange:t,className:"w-full mt-1 rounded-2xl border border-slate-200 px-4 py-3 focus:border-blue-500 focus:outline-none",children:f.map(a=>e.jsx("option",{children:a},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Community / employee size"}),e.jsx("select",{name:"communitySize",value:s.communitySize,onChange:t,className:"w-full mt-1 rounded-2xl border border-slate-200 px-4 py-3 focus:border-blue-500 focus:outline-none",children:g.map(a=>e.jsx("option",{children:a},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"City / address"}),e.jsx("input",{name:"address",value:s.address,onChange:t,placeholder:"Bengaluru, Whitefield",className:"w-full mt-1 rounded-2xl border border-slate-200 px-4 py-3 focus:border-blue-500 focus:outline-none"})]}),e.jsxs("label",{className:"flex items-start gap-3 text-sm text-slate-600",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:()=>N(a=>!a),className:"mt-1 rounded border-slate-300 text-blue-500 focus:ring-blue-200"}),e.jsxs("span",{children:["I agree to Defendo’s"," ",e.jsx("a",{href:"#",className:"text-blue-600 font-semibold",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"#",className:"text-blue-600 font-semibold",children:"Privacy Policy"}),"."]})]}),e.jsx(h.button,{type:"submit",whileHover:{scale:1.01},whileTap:{scale:.98},disabled:x,className:"w-full py-3 rounded-2xl bg-blue-600 text-white font-semibold shadow-[0_18px_40px_rgba(37,99,235,0.35)] hover:bg-blue-700 transition disabled:opacity-50",children:x?"Creating account…":"Create my booking account"})]})]})]})]})};export{E as default};
